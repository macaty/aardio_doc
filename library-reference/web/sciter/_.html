
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - web.sciter 库模块帮助文档'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - web.sciter 库模块帮助文档</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>web.sciter 库模块帮助文档</h1>

<p><a id="web"></a></p>

<h2>web 成员列表</h2>

<p><a id="web.sciter"></a></p>

<h3>web.sciter()</h3>

<p><a href="#websciterObject">返回对象:websciterObject</a></p>

<p><a id="web.sciter"></a></p>

<h3>web.sciter(窗口对象,捕获事件)</h3>

<p>从窗口对象 创建 Sciter  窗口。<br>
参数 @1 可指定窗口或控件对象。<br>
 参数 @2 默认仅允许捕获按钮命令等基本交互事件</p>

<p><a id="web.sciter"></a></p>

<h2>web.sciter 成员列表</h2>

<p><a id="web.sciter.appendMasterCss"></a></p>

<h3>web.sciter.appendMasterCss(css)</h3>

<p>追加默认CSS,<br>
必须在创建Sciter窗体,以及调用其他函数以前调用</p>

<p><a id="web.sciter.appendMasterCssFile"></a></p>

<h3>web.sciter.appendMasterCssFile(&quot;/res/master.css&quot;)</h3>

<p>追加默认 CSS 文件<br>
CSS 文件请使用UTF编码保存,<br>
必须在创建 Sciter 窗体,以及调用其他函数以前调用</p>

<p><a id="web.sciter.createEle"></a></p>

<h3>web.sciter.createEle()</h3>

<p><a href="#sciterEleObject">返回对象:sciterEleObject</a></p>

<p><a id="web.sciter.createEle"></a></p>

<h3>web.sciter.createEle(标签名,节点内容)</h3>

<p>创建节点,<br>
节点内容可省略</p>

<p><a id="web.sciter.declareEle"></a></p>

<h3>web.sciter.declareEle( &quot;字符串参数&quot;, <em>HLELM</em> )</h3>

<p>声明标记,<br>
必须在创建Sciter窗体,以及调用其他函数以前调用,<br>
并且须要早于设置MasterCss的函数调用</p>

<p><a id="web.sciter.enableDebug"></a></p>

<h3>web.sciter.enableDebug()</h3>

<p>允许在所有窗口使用 Sciter 调试工具</p>

<p><a id="web.sciter.enableUiAutomation"></a></p>

<h3>web.sciter.enableUiAutomation()</h3>

<p>启用 UIAutomation 接口</p>

<p><a id="web.sciter.jsObject"></a></p>

<h3>web.sciter.jsObject</h3>

<p>将指定的 aardio 对象转换为纯 JavaScript 对象</p>

<p><a id="web.sciter.jsObject"></a></p>

<h3>web.sciter.jsObject(object,isArray)</h3>

<p>将参数 @object 指定的 aardio 对象转换为纯 JavaScript 对象，<br>
可选用参数 @isArray 显示指定是否将表转换为数组。<br>
返回 web.sciter.valueObject 对象</p>

<p><a id="web.sciter.preloadScript"></a></p>

<h3>web.sciter.preloadScript(js)</h3>

<pre><code class="aardio language-aardio">web.sciter.preloadScript(`globalThis.test=1;/*添加所有网页在初始化时默认加载的 JavaScript 脚本*/`)
</code></pre>

<p><a id="web.sciter.setGraphicsLayer"></a></p>

<h3>web.sciter.setGraphicsLayer(&quot;gdi&quot;)</h3>

<p>设置绘图引擎,可选值为&quot;gdi&quot;,&quot;d2d&quot;,&quot;auto&quot;</p>

<p><a id="web.sciter.setLoader"></a></p>

<h3>web.sciter.setLoader(loader)</h3>

<pre><code class="aardio language-aardio">web.sciter.setLoader(  
    function(path){  
        return ..string.loadBuffer(path);/*自定义加载器*/  
    }     
)
</code></pre>

<p><a id="web.sciter.setMasterCss"></a></p>

<h3>web.sciter.setMasterCss(css)</h3>

<p>替换默认 CSS<br>
必须在调用其他函数之前调用</p>

<p><a id="web.sciter.setOption"></a></p>

<h3>web.sciter.setOption(_SCITER,1)</h3>

<p>设置选项</p>

<p><a id="sciterElesObject"></a></p>

<h2>sciterElesObject 成员列表</h2>

<p><a id="sciterElesObject.?"></a></p>

<h3>sciterElesObject.?</h3>

<p>Sciter 网页节点数组元素  </p>

<p><a href="#sciterEleObject">返回对象:sciterEleObject</a></p>

<p><a id="web.sciter.script"></a></p>

<h2>web.sciter.script 成员列表</h2>

<p>JavaScript 对象,<br>
指定此对象的键值即可指定 JavaScript 全局变量默认值</p>

<p><a id="web.sciter.script.?"></a></p>

<h3>web.sciter.script.?</h3>

<p>请输入 JavaScript 全局变量名,<br>
用于写入 JavaScript 全局变量默认值,<br>
注意这里只写不读</p>

<p><a id="websciterObject"></a></p>

<h2>websciterObject 成员列表</h2>

<p><a id="websciterObject.$"></a></p>

<h3>websciterObject.$(&quot;标签名[属性名=&#39;属性值&#39;]&quot;)</h3>

<p>使用CSS选择器语法,<br>
查找所有符合条件节点</p>

<p><a id="websciterObject.$"></a></p>

<h3>websciterObject.$()</h3>

<p><a href="#sciterElesObject">返回对象:sciterElesObject</a></p>

<p><a id="websciterObject.$1"></a></p>

<h3>websciterObject.$1(&quot;标签名[属性名=&#39;属性值&#39;]&quot;)</h3>

<p>使用CSS选择器语法,<br>
查找第一个符合条件节点</p>

<p><a id="websciterObject.$1"></a></p>

<h3>websciterObject.$1()</h3>

<p><a href="#sciterEleObject">返回对象:sciterEleObject</a></p>

<p><a id="websciterObject.?"></a></p>

<h3>websciterObject.?</h3>

<p>自定义 JavaScript 可以调用的本地函数，<br>
函数名建议用 on 作为前缀。<br>
注意此回调函数的第一个参数必须是 scOwner，<br>
并且值总是 null  </p>

<p>在 JavaScript 中可用 Window.this.xcall 调用此函数，<br>
参数@1 指定要调用的函数名</p>

<p><a id="websciterObject.addHeaders"></a></p>

<h3>websciterObject.addHeaders</h3>

<pre><code class="aardio language-aardio">websciterObject.addHeaders = /**  
Accept-Language: cn  
/*设置默认的HTTP请求头  
多个请求头使用回车换行分隔*/  
**/
</code></pre>

<p><a id="websciterObject.attachEventHandler"></a></p>

<h3>websciterObject.attachEventHandler(eventHandler,subscription)</h3>

<p>添加事件监听对象,参数一不可省略,<br>
subscription 可选使用 <em>HL_HANDLE</em> 前缀常量指定捕获的事件,<br>
 省略该参数则根据定义的回调函数自动设定该值,<br>
也可以使用对象的 _event_subsriptions 成员指定该值,<br>
该函数返回事件ID,用于注销监听</p>

<p><a id="websciterObject.call"></a></p>

<h3>websciterObject.call(&quot;函数名&quot;,其他参数)</h3>

<p>调用 JavaScript 脚本函数<br>
JavaScript 对象返回为 web.sciter.valueObject对象,其他基础对象转换为aardio类型<br>
使用 web.sciter.isValueObject 函数可以判断返回值是否JavaScript对象</p>

<p><a id="websciterObject.call"></a></p>

<h3>websciterObject.call()</h3>

<p><a href="#webSciterValueObject">返回对象:webSciterValueObject</a></p>

<p><a id="websciterObject.callback"></a></p>

<h3>websciterObject.callback</h3>

<pre><code class="aardio language-aardio">websciterObject.callback = function ( message,wParam,lParam,vParam,notifyCode ) {  

}
</code></pre>

<p><a id="websciterObject.combineUrl"></a></p>

<h3>websciterObject.combineUrl(URL)</h3>

<p>将URL转换为绝对路径,<br>
可省略参数返回 baseURL</p>

<p><a id="websciterObject.commitUpdates"></a></p>

<h3>websciterObject.commitUpdates()</h3>

<p>立即更新所有节点<br>
因为节点可能会延迟更新,<br>
需要立即获取节点更新后的位置可调用此函数<br>
该函数不会调用updateWindow</p>

<p><a id="websciterObject.createEle"></a></p>

<h3>websciterObject.createEle()</h3>

<p><a href="#sciterEleObject">返回对象:sciterEleObject</a></p>

<p><a id="websciterObject.createEle"></a></p>

<h3>websciterObject.createEle(标签名,节点内容)</h3>

<p>创建节点,<br>
节点内容可省略</p>

<p><a id="websciterObject.css"></a></p>

<h3>websciterObject.css</h3>

<pre><code class="aardio language-aardio">websciterObject.css = /**  
#my-button{   
    behavior:&quot;my.command&quot;;   
    active-on!:  
        /*输入CSS脚本,语句用逗号分隔*/  
    ;   
}   
**/
</code></pre>

<p><a id="websciterObject.debug"></a></p>

<h3>websciterObject.debug()</h3>

<pre><code class="aardio language-aardio">import web.sciter.debug;  
websciterObject.attachEventHandler( web.sciter.debug );
</code></pre>

<p><a id="websciterObject.detachEventHandler"></a></p>

<h3>websciterObject.detachEventHandler(事件ID)</h3>

<p>注销事件监听对象,事件ID不可省略</p>

<p><a id="websciterObject.doScript"></a></p>

<h3>websciterObject.doScript(&quot;脚本代码&quot;)</h3>

<p>执行 JavaScript 脚本代码<br>
参数@1可以是脚本代码、或脚本文件、支持资源文件。<br>
如果 参数@2 非 null 则先用 string.format 格式化所有参数。<br>
可使用 return 语句返回值</p>

<p><a id="websciterObject.documentElement"></a></p>

<h3>websciterObject.documentElement</h3>

<p><a href="#sciterEleObject">返回对象:sciterEleObject</a></p>

<p><a id="websciterObject.enableDebug"></a></p>

<h3>websciterObject.enableDebug()</h3>

<p>允许在此窗口使用 Sciter 调试工具</p>

<p><a id="websciterObject.enumQuery"></a></p>

<h3>websciterObject.enumQuery(枚举函数,CSS选择器,格式化参数)</h3>

<pre><code class="aardio language-aardio">websciterObject.enumQuery(  
    function(scEle){  
         /*返回true停止枚举*/  
    },&quot;div&quot;  
)
</code></pre>

<p><a id="websciterObject.enumRes"></a></p>

<h3>websciterObject.enumRes(枚举函数)</h3>

<pre><code class="aardio language-aardio">websciterObject.enumRes(  
    function(uri,resType,imgData,size){   
        /*枚举页面页源*/   
    }   
)
</code></pre>

<p><a id="websciterObject.eval"></a></p>

<h3>websciterObject.eval()</h3>

<p>计算参数 @1 指定的 JavaScript 脚本表达式的值。<br>
JavaScript对象返回为 web.sciter.valueObject对象,<br>
其他基础对象转换为aardio类型<br>
使用 web.sciter.isValueObject 函数可以判断返回值是否JavaScript对象  </p>

<p>如果 参数@2 非 null 则先用 string.format 格式化所有参数</p>

<p><a href="#webSciterValueObject">返回对象:webSciterValueObject</a></p>

<p><a id="websciterObject.eventsHandler"></a></p>

<h3>websciterObject.eventsHandler</h3>

<pre><code class="aardio language-aardio">websciterObject.eventsHandler = function (tag,he,evtg,prms) {  

}
</code></pre>

<p><a id="websciterObject.external"></a></p>

<h3>websciterObject.external</h3>

<pre><code class="aardio language-aardio">websciterObject.external = {  
    scriptCallTest = function(str){   
        /*定义网页脚本可直接调用的external对象*/  
        return &quot;收到:&quot;+str;   
    }  
}
</code></pre>

<p><a id="websciterObject.fireEvent"></a></p>

<h3>websciterObject.fireEvent</h3>

<p>触发 JavaScript 全局事件<br>
注意 HTML 节点对象有同名函数用于触发节点的事件</p>

<p><a id="websciterObject.fireEvent"></a></p>

<h3>websciterObject.fireEvent(eventName,data,post,he)</h3>

<p>触发 JavaScript 全局事件,<br>
除参数@1必须指定字符串以外的其他参数为可选参数<br>
可选用参数@2指定目标事件的 event.data 参数，其他参数可选,<br>
可选参数 @post 指定是否异步调用</p>

<p><a id="websciterObject.fromPoint"></a></p>

<h3>websciterObject.fromPoint()</h3>

<p><a href="#sciterEleObject">返回对象:sciterEleObject</a></p>

<p><a id="websciterObject.fromPoint"></a></p>

<h3>websciterObject.fromPoint(x坐标,y坐标,是否屏幕坐标)</h3>

<p>参数三可选,默认为窗口客户区坐标<br>
成功返回节点对象</p>

<p><a id="websciterObject.getCtrl"></a></p>

<h3>websciterObject.getCtrl(&quot;字符串参数&quot;)</h3>

<p>根据ID或name查找节点,<br>
并获取在该节点中自定义的控件对象</p>

<p><a id="websciterObject.getCtrl"></a></p>

<h3>websciterObject.getCtrl()</h3>

<p><a href="../../win/ui/ctrl/static.html#staticObject" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/win/ui/ctrl/static.html#staticObject">返回对象:staticObject</a></p>

<p><a id="websciterObject.getEle"></a></p>

<h3>websciterObject.getEle(&quot;字符串参数&quot;)</h3>

<p>根据ID查找节点<br>
如果未找到,尝试使用name查找</p>

<p><a id="websciterObject.getEle"></a></p>

<h3>websciterObject.getEle()</h3>

<p><a href="#sciterEleObject">返回对象:sciterEleObject</a></p>

<p><a id="websciterObject.getEleByUid"></a></p>

<h3>websciterObject.getEleByUid()</h3>

<p><a href="#sciterEleObject">返回对象:sciterEleObject</a></p>

<p><a id="websciterObject.getEleByUid"></a></p>

<h3>websciterObject.getEleByUid(UID)</h3>

<p>根据唯一标志符(数值)返回节点</p>

<p><a id="websciterObject.getEles"></a></p>

<h3>websciterObject.getEles(&quot;字符串参数&quot;)</h3>

<p>根据name属性查找节点</p>

<p><a id="websciterObject.getEles"></a></p>

<h3>websciterObject.getEles()</h3>

<p><a href="#sciterElesObject">返回对象:sciterElesObject</a></p>

<p><a id="websciterObject.getFocus"></a></p>

<h3>websciterObject.getFocus()</h3>

<p>获取当前输入焦点所在节点  </p>

<p><a href="#sciterEleObject">返回对象:sciterEleObject</a></p>

<p><a id="websciterObject.go"></a></p>

<h3>websciterObject.go(&quot;字符串参数&quot;)</h3>

<p>跳转到指定网址,支持aardio资源文件<br>
HTML文件使用BOM标记或HTM代码内的编码声明识别编码，<br>
如果参数指定的是aardio文件,参数@2可选用一个表指定request.get对象</p>

<p><a id="websciterObject.html"></a></p>

<h3>websciterObject.html</h3>

<pre><code class="aardio language-aardio">websciterObject.html = /**  
&lt;!doctype html&gt;  
&lt;html&gt;  
&lt;head&gt;  
   &lt;META http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;  
    &lt;script&gt;  

    &lt;/script&gt;  
    &lt;style type=&quot;text/css&quot;&gt;  
    html,body{ height:100%; margin:0; }   
    &lt;/style&gt;  
&lt;/head&gt;  
&lt;body&gt;  
    &lt;div id=&quot;header&quot;&gt;&lt;/div&gt;  
    &lt;div id=&quot;container&quot;&gt;   
        &lt;div class=&quot;lside&quot;&gt; &lt;/div&gt;   
        &lt;div class=&quot;rside&quot;&gt; &lt;/div&gt;    
    &lt;/div&gt;  
&lt;/body&gt;  
&lt;/html&gt;  
**/
</code></pre>

<p><a id="websciterObject.onDataLoaded"></a></p>

<h3>websciterObject.onDataLoaded</h3>

<pre><code class="aardio language-aardio">websciterObject.onDataLoaded = function(lParam) {
    var dataLoaded = raw.convert(lParam,{
        INT code; 
        addr hwnd;
        ustring  uri; 
        ptr data;
        INT dataSize; 
        INT dataType;
        INT status; 
    });
    /*单个文件数据加载完成后触发*/
}
</code></pre>

<p><a id="websciterObject.onFrameDocumentComplete"></a></p>

<h3>websciterObject.onFrameDocumentComplete</h3>

<pre><code class="aardio language-aardio">websciterObject.onFrameDocumentComplete = function(scTarget,scOwner,reason,behaviorParams) {
    if( scTarget != scOwner.root() ) return;
    /*文档或框架文档已加载  
此事件在onDocumentReady以后触发*/
}
</code></pre>

<p><a id="websciterObject.post"></a></p>

<h3>websciterObject.post(网址,参数)</h3>

<p>参数可以是字符串或键值对组成的表对象<br>
该函数可触发onDataArrived事件</p>

<p><a id="websciterObject.preloadScript"></a></p>

<h3>websciterObject.preloadScript(js)</h3>

<p>添加网页默认加载的 JS 脚本,不会覆盖之前添加的脚本，<br>
在网页解析后，其他JavaScript脚本执行前执行,<br>
此函数返回已添加的所有初始化脚本,<br>
仅获取脚本时可以不指定参数</p>

<p><a id="websciterObject.queryEle"></a></p>

<h3>websciterObject.queryEle()</h3>

<p><a href="#sciterEleObject">返回对象:sciterEleObject</a></p>

<p><a id="websciterObject.queryEles"></a></p>

<h3>websciterObject.queryEles()</h3>

<p><a href="#sciterElesObject">返回对象:sciterElesObject</a></p>

<p><a id="websciterObject.querySelector"></a></p>

<h3>websciterObject.querySelector(&quot;标签名[属性名=&#39;属性值&#39;]&quot;)</h3>

<p>使用CSS选择器语法,<br>
查找第一个符合条件节点,<br>
如果有多个参数则首先调用string.format格式化为CSS文本,<br>
该函数名可使用&#39;$1&#39;代替,等价于CSS!中的$1函数</p>

<p><a id="websciterObject.querySelector"></a></p>

<h3>websciterObject.querySelector()</h3>

<p><a href="#sciterEleObject">返回对象:sciterEleObject</a></p>

<p><a id="websciterObject.querySelectorAll"></a></p>

<h3>websciterObject.querySelectorAll(&quot;标签名[属性名=&#39;属性值&#39;]&quot;)</h3>

<p>使用CSS选择器语法,<br>
查找所有符合条件节点,<br>
如果有多个参数则首先调用string.format格式化为CSS文本,<br>
该函数名可使用&#39;$&#39;代替,等价于CSS!中的$函数</p>

<p><a id="websciterObject.querySelectorAll"></a></p>

<h3>websciterObject.querySelectorAll()</h3>

<p><a href="#sciterElesObject">返回对象:sciterElesObject</a></p>

<p><a id="websciterObject.setCss"></a></p>

<h3>websciterObject.setCss(css,mediaType,baseUrl)</h3>

<p>替换CSS</p>

<p><a id="websciterObject.setMediaType"></a></p>

<h3>websciterObject.setMediaType(mediaType)</h3>

<p>设置媒体类型</p>

<p><a id="websciterObject.setOption"></a></p>

<h3>websciterObject.setOption(_SCITER,1)</h3>

<p>设置选项</p>

<p><a id="websciterObject.traverseUiEvent"></a></p>

<h3>websciterObject.traverseUiEvent(结构体参数)</h3>

<p>结构体参数是 web.sciter.event.MOUSE_PARAMS 或 KEY_PARAMS<br>
该函数发送事件经过捕获与冒泡过程直到事件被处理</p>

<p><a id="websciterObject.updateWindow"></a></p>

<h3>websciterObject.updateWindow()</h3>

<p>更新窗口<br>
如果仅仅需要更新节点位置等,可调用commitUpdates函数</p>

<p><a id="websciterObject.wait"></a></p>

<h3>websciterObject.wait()</h3>

<p>等待所有资源加载完成</p>

<p><a id="websciterObject.write"></a></p>

<h3>websciterObject.write(/*HTML 代码*/)</h3>

<p>写出指定 HTML 代码</p>

<p><a id="websciterObject.xcall"></a></p>

<h3>websciterObject.xcall</h3>

<p>调用 JS 函数并返回值。<br>
此函数使用 JSON 在 JS/aardio 之间转换参数与返回值</p>

<p><a id="websciterObject.xcall"></a></p>

<h3>websciterObject.xcall(&quot;object.func&quot;,...)</h3>

<p>调用JS函数并返回值。<br>
此函数使用 JSON 在 JS/aardio 之间转换参数与返回值。  </p>

<p>参数 @1 指定要调用的函数名或返回函数的表达式,  </p>

<p>如果参数 @1 不包含回车或换换行、分号、大括号、圆括号，<br>
则参数 @1 最后一个点号前的对象作为调用 JS 函数的 this 参数</p>

<p><a id="websciterObject.script"></a></p>

<h2>websciterObject.script 成员列表</h2>

<p>JavaScript 对象,<br>
指定此对象的键值即可指定 JavaScript 全局变量默认值</p>

<p><a id="websciterObject.script.?"></a></p>

<h3>websciterObject.script.?</h3>

<p>请输入 JavaScript 全局变量名,<br>
用于读写 JavaScript 全局变量,<br>
可用于获取 JavaScript 函数</p>

<h3>自动完成常量</h3>

<p>_SCITER_ALPHA_WINDOW=0xC<br>
_SCITER_CONNECTION_TIMEOUT=2<br>
_SCITER_ENABLE_UIAUTOMATION=0x11<br>
_SCITER_FONT_SMOOTHING=4<br>
_SCITER_HTTPS_ERROR=3<br>
_SCITER_SET_DEBUG_MODE=0xA<br>
_SCITER_SET_GFX_LAYER=9<br>
_SCITER_SET_GPU_BLACKLIST=7<br>
_SCITER_SET_INIT_SCRIPT=0xD<br>
_SCITER_SET_MAIN_WINDOW=0xE<br>
_SCITER_SET_MAX_HTTP_DATA_LENGTH=0xF<br>
_SCITER_SET_PX_AS_DIP=0x10<br>
_SCITER_SET_SCRIPT_RUNTIME_FEATURES=8<br>
_SCITER_SET_UX_THEMING=0xB<br>
_SCITER_SMOOTH_SCROLL=1<br>
_SCITER_TRANSPARENT_WINDOW=6  </p>

<p><a href="https://www.aardio.com/zh-cn/doc/library-reference/web/sciter/_.md">Markdown 格式</a></p>

</body> 
</html>