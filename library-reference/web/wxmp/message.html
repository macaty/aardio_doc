
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - web.wxmp.message 库模块帮助文档'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - web.wxmp.message 库模块帮助文档</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>web.wxmp.message 库模块帮助文档</h1>

<p><a id="web.wxmp"></a></p>

<h2>web.wxmp 成员列表</h2>

<p><a id="web.wxmp.message"></a></p>

<h3>web.wxmp.message</h3>

<p>微信公众号消息接口，目前仅支持明文消息。</p>

<p><a id="web.wxmp.message"></a></p>

<h3>web.wxmp.message()</h3>

<p>参数指定消息令牌（公众号开发服务器配置中查看）。<br>
创建对象时会自动鉴权，令牌校验失败自动退出本次请求。<br>
调用代码不需要再检测鉴权结果。</p>

<p><a href="#webWxmpMessageObject">返回对象:webWxmpMessageObject</a></p>

<p><a id="webWxmpMessageObject"></a></p>

<h2>webWxmpMessageObject 成员列表</h2>

<p><a id="webWxmpMessageObject.requestXml"></a></p>

<h3>webWxmpMessageObject.requestXml()</h3>

<p>解析服务器请求 XML，返回数据表对象（table 对象）。<br>
webWxmpMessageReq.</p>

<p><a id="webWxmpMessageObject.responseXml"></a></p>

<h3>webWxmpMessageObject.responseXml()</h3>

<pre><code class="aardio language-aardio">webWxmpMessageObject.responseXml(  
    ToUserName = postData.FromUserName;  
    FromUserName = postData.ToUserName;   
    MsgType = &quot;news&quot;;  
    ArticleCount = 1;  
    Articles = {  
        item = {  
            {  
                Title = &quot;标题&quot;;  
                Description = &quot;描述&quot;;  
                PicUrl =  &quot;图像网址&quot;;  
                Url =  &quot;文章网址&quot;;  
            }  
        }  
    };  
    /*将参数中的表对象转换为 XML 并输出为 HTTP 应答数据。  
表中的键值按公众号格式生成为 XML 节点。  
如果值为表，则表中的键值对生成为 XML 子节点。  
如果表为数组，则表中的数组项生成为同名 XML 子节点数组（上面的 item 就是数组）  
这里演示的 postData 应为 requestXml 解析的请求数据。  
CreateTime 会自动添加到应答 XML，不需要指定。*/  
)
</code></pre>

<p><a id="webWxmpMessageReq"></a></p>

<h2>webWxmpMessageReq 成员列表</h2>

<p><a id="webWxmpMessageReq.Content"></a></p>

<h3>webWxmpMessageReq.Content</h3>

<p>文本消息内容</p>

<p><a id="webWxmpMessageReq.CreateTime"></a></p>

<h3>webWxmpMessageReq.CreateTime</h3>

<p>请求时间戳</p>

<p><a id="webWxmpMessageReq.Event"></a></p>

<h3>webWxmpMessageReq.Event</h3>

<p>事件类型，例如 &quot;subscribe&quot;</p>

<p><a id="webWxmpMessageReq.EventKey"></a></p>

<h3>webWxmpMessageReq.EventKey</h3>

<p>事件 KEY 值</p>

<p><a id="webWxmpMessageReq.FromUserName"></a></p>

<h3>webWxmpMessageReq.FromUserName</h3>

<p>用户 OpenID</p>

<p><a id="webWxmpMessageReq.Idx"></a></p>

<h3>webWxmpMessageReq.Idx</h3>

<p>多图文时是第几篇文章，仅来自文章才有这个字段</p>

<p><a id="webWxmpMessageReq.MsgDataId"></a></p>

<h3>webWxmpMessageReq.MsgDataId</h3>

<p>消息的数据 ID，仅来自文章才有这个字段</p>

<p><a id="webWxmpMessageReq.MsgId"></a></p>

<h3>webWxmpMessageReq.MsgId</h3>

<p>消息 ID，64 位整数，注意这是字符串</p>

<p><a id="webWxmpMessageReq.MsgType"></a></p>

<h3>webWxmpMessageReq.MsgType</h3>

<p>消息类型，例如 &quot;event&quot;,</p>

<p><a id="webWxmpMessageReq.PicUrl"></a></p>

<h3>webWxmpMessageReq.PicUrl</h3>

<p>图像地址</p>

<p><a id="webWxmpMessageReq.ToUserName"></a></p>

<h3>webWxmpMessageReq.ToUserName</h3>

<p>开发者微信号</p>

<p><a href="message.md" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/web/wxmp/message.md">Markdown 格式</a></p>

</body> 
</html>