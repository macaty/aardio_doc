
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - thread.command 库模块帮助文档'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - thread.command 库模块帮助文档</title> 
<link rel="stylesheet" href="../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>thread.command 库模块帮助文档</h1>

<p><a id="thread"></a></p>

<h2>thread 成员列表</h2>

<p><a id="thread.command"></a></p>

<h3>thread.command()</h3>

<p><a href="#threadCommandObject">返回对象:threadCommandObject</a></p>

<p><a id="thread.command"></a></p>

<h3>thread.command(窗口对象)</h3>

<p>创建线程命令订阅对象,<br>
省略窗口对象则创建 message only window</p>

<p><a id="thread.command"></a></p>

<h2>thread.command 成员列表</h2>

<p>创建线程命令订阅对象,返回对象可传入其他线程使用。<br>
返回对象添加的成员函数,都可在其他线程中调用。</p>

<p><a id="thread.command.bind"></a></p>

<h3>thread.command.bind()</h3>

<p><a href="#threadCommandBindObject">返回对象:threadCommandBindObject</a></p>

<p><a id="thread.command.bind"></a></p>

<h3>thread.command.bind(hwndListener)</h3>

<p>绑定监听对象窗体句柄<br>
可添加绑定任意个默认调用参数</p>

<p><a id="thread.command.instance"></a></p>

<h3>thread.command.instance()</h3>

<p>全局单实例线程命令订阅对象  </p>

<p><a href="#threadCommandObject">返回对象:threadCommandObject</a></p>

<p><a id="thread.command.invoke"></a></p>

<h3>thread.command.invoke(&quot;命令名&quot;,线程函数,调用参数)</h3>

<pre><code class="aardio language-aardio">thread.command.invoke(    
    &quot;/*创建线程  
使用线程函数的返回值作为参数触发该命令*/&quot; ,function( ... ){  

    },   
)
</code></pre>

<p><a id="thread.command.post"></a></p>

<h3>thread.command.post(&quot;命令函数名&quot;,其他参数)</h3>

<p>不阻塞调用跨线程命令,不接收返回值<br>
不指定窗口句柄,所有同名的线程命令函数都会被调用<br>
函数无返回值</p>

<p><a id="thread.command.post"></a></p>

<h3>thread.command.post(窗口句柄,&quot;命令函数名&quot;,其他参数)</h3>

<p>不阻塞调用跨线程命令,<br>
参数@1指定句柄时,超过消息队列限制发送失败返回false,否则返回true</p>

<p><a id="thread.command.postIdle"></a></p>

<h3>thread.command.postIdle(延时值,&quot;命令函数名&quot;,其他参数)</h3>

<p>在指定的延时值内忽略部分消息<br>
其他同post函数</p>

<p><a id="thread.command.postIdle"></a></p>

<h3>thread.command.postIdle(延时值,窗口句柄,&quot;命令函数名&quot;,其他参数)</h3>

<p>在指定的延时值内忽略部分消息<br>
其他同post函数</p>

<p><a id="thread.command.send"></a></p>

<h3>thread.command.send(&quot;命令函数名&quot;,其他参数)</h3>

<p>阻塞调用跨线程命令,<br>
注意send函数发送的消息有可能比之前post函数发送的消息更早被接收<br>
不指定窗口句柄,所有同名的线程命令函数都会被调用,<br>
可获取回调函数的返回值,默认返回空值</p>

<p><a id="thread.command.send"></a></p>

<h3>thread.command.send(窗口句柄,&quot;命令函数名&quot;,其他参数)</h3>

<p>阻塞调用跨线程命令,<br>
注意send函数发送的消息有可能比之前post函数发送的消息更早被接收<br>
可获取回调函数的返回值,默认返回空值</p>

<p><a id="thread.command.sendIdle"></a></p>

<h3>thread.command.sendIdle(延时值,&quot;命令函数名&quot;,其他参数)</h3>

<p>在指定的延时值内忽略部分消息<br>
其他同send函数</p>

<p><a id="thread.command.sendIdle"></a></p>

<h3>thread.command.sendIdle(延时值,窗口句柄,&quot;命令函数名&quot;,其他参数)</h3>

<p>在指定的延时值内忽略部分消息<br>
其他同send函数</p>

<p><a id="thread.command.sendInvoke"></a></p>

<h3>thread.command.sendInvoke(&quot;命令函数名&quot;,其他参数)</h3>

<p>调用线程命令并等待返回值,等待过程中不卡界面,<br>
注意sendInvoke函数发送的消息有可能比之前post函数发送的消息更早被接收<br>
不指定窗口句柄,所有同名的线程命令函数都会被调用,<br>
可获取回调函数的返回值,默认返回空值</p>

<p><a id="thread.command.sendInvoke"></a></p>

<h3>thread.command.sendInvoke(窗口句柄,&quot;命令函数名&quot;,其他参数)</h3>

<p>调用线程命令并等待返回值,等待过程中不卡界面,<br>
注意sendInvoke函数发送的消息有可能比之前post函数发送的消息更早被接收<br>
可获取回调函数的返回值,默认返回空值</p>

<p><a id="thread.command.命令函数名"></a></p>

<h3>thread.command.命令函数名()</h3>

<p>如果命令函数名首字符为$以post模式异步调用命令，<br>
否则以send模式同步调用该命令,<br>
传入参数应与该命令定义时预设的形参一致,<br>
send模式调用可获取回调函数的返回值,默认返回空值</p>

<p><a id="threadCommandBindObject"></a></p>

<h2>threadCommandBindObject 成员列表</h2>

<p><a id="threadCommandBindObject.?"></a></p>

<h3>threadCommandBindObject.?</h3>

<p>调用send函数发送该命令,<br>
传入参数应与该命令定义时预设的形参一致<br>
可获取回调函数的返回值,默认返回空值</p>

<p><a id="threadCommandBindObject.post"></a></p>

<h3>threadCommandBindObject.post(&quot;字符串参数&quot;,)</h3>

<p>不阻塞调用跨线程命令</p>

<p><a id="threadCommandBindObject.postIdle"></a></p>

<h3>threadCommandBindObject.postIdle(1000,&quot;字符串参数&quot;,)</h3>

<p>阻塞调用跨线程命令,<br>
在参数@1指定的延时值内忽略部分消息</p>

<p><a id="threadCommandBindObject.send"></a></p>

<h3>threadCommandBindObject.send(&quot;字符串参数&quot;,)</h3>

<p>不阻塞调用跨线程命令</p>

<p><a id="threadCommandBindObject.sendIdle"></a></p>

<h3>threadCommandBindObject.sendIdle(1000,&quot;字符串参数&quot;,)</h3>

<p>阻塞调用跨线程命令,<br>
在参数@1指定的延时值内忽略部分消息</p>

<p><a id="threadCommandObject"></a></p>

<h2>threadCommandObject 成员列表</h2>

<p><a id="threadCommandObject.?"></a></p>

<h3>threadCommandObject.?</h3>

<pre><code class="aardio language-aardio">threadCommandObject./*订阅命令函数名字,支持不定个数参数  
如果同一个名字要注册多个回调函数请使用subscribe函数,  
使用&quot;.&quot;成员操作符可获取命令调用函数,不可使用下标,  
默认以send模式同步调用，函数名首字符为$以post模式异步调用  
send模式下返回值可阻止命令继续传递*/ = function( ... ){

}
</code></pre>

<p><a id="threadCommandObject._form"></a></p>

<h3>threadCommandObject._form</h3>

<p>窗体对象  </p>

<p><a href="../win/ui/_.html#winform" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/win/ui/_.html#winform">返回对象:winform</a></p>

<p><a id="threadCommandObject.hwnd"></a></p>

<h3>threadCommandObject.hwnd</h3>

<p>绑定监听对象窗体句柄</p>

<p><a id="threadCommandObject.invoke"></a></p>

<h3>threadCommandObject.invoke( 线程函数,... )</h3>

<pre><code class="aardio language-aardio">threadCommandObject.invoke( 线程函数,...invoke(  
    function( hwndListener,... ){  
        import thread.command;  
        var notifier = thread.command.bind(hwndListener);  

        notifier.post(&quot;begin&quot;)   
        notifier.post(&quot;end&quot;)   
    },...  
)
</code></pre>

<p><a id="threadCommandObject.subscribe"></a></p>

<h3>threadCommandObject.subscribe</h3>

<p>订阅指定的命令</p>

<p><a id="threadCommandObject.subscribe"></a></p>

<h3>threadCommandObject.subscribe(&quot;订阅命令名字&quot;,回调函数对象)</h3>

<p>同一个名字可以多此调用此函数添加多个不同的关注回调函数<br>
回调函数如果返回值可阻止命令继续传递</p>

<p><a id="threadCommandObject.unsubscribe"></a></p>

<h3>threadCommandObject.unsubscribe</h3>

<p>取消订阅指定的命令</p>

<p><a id="threadCommandObject.unsubscribe"></a></p>

<h3>threadCommandObject.unsubscribe(&quot;订阅命令名字&quot;,回调函数对象)</h3>

<p>函数无返回值</p>

<p><a href="command.md" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/thread/command.md">Markdown 格式</a></p>

</body> 
</html>