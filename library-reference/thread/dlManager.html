
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - thread.dlManager 库模块帮助文档'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - thread.dlManager 库模块帮助文档</title> 
<link rel="stylesheet" href="../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>thread.dlManager 库模块帮助文档</h1>

<p><a id="thread"></a></p>

<h2>thread 成员列表</h2>

<p><a id="thread.dlManager"></a></p>

<h3>thread.dlManager</h3>

<p>多线程下载管理器</p>

<p><a id="thread.dlManager"></a></p>

<h3>thread.dlManager()</h3>

<p><a href="#threadDlManagerObject">返回对象:threadDlManagerObject</a></p>

<p><a id="thread.dlManager"></a></p>

<h3>thread.dlManager(线程数,等待延时)</h3>

<p>创建下载管理器<br>
参数@省略则默认创建2个下载线程可选用<br>
参数@2指定线程每次任务完成后的等待延时,默认为200毫秒</p>

<p><a id="threadDlManagerObject"></a></p>

<h2>threadDlManagerObject 成员列表</h2>

<p><a id="threadDlManagerObject.cancel"></a></p>

<h3>threadDlManagerObject.cancel(任务ID)</h3>

<p>取消指定的下载任务</p>

<p><a id="threadDlManagerObject.onEnd"></a></p>

<h3>threadDlManagerObject.onEnd</h3>

<pre><code class="aardio language-aardio">threadDlManagerObject.onEnd = function(id,savepath,resumePath,contentLength){
    /*下载完成触发此事件  
下载成功则savepath为存储路径,否则该参数为空  
resumePath为续传配置文件路径*/
}
</code></pre>

<p><a id="threadDlManagerObject.onError"></a></p>

<h3>threadDlManagerObject.onError</h3>

<pre><code class="aardio language-aardio">threadDlManagerObject.onError = function(id,err){
    /*下载错到错误触发此事件  
出错则err参数为错误信息,用户取消则err参数为空*/
}
</code></pre>

<p><a id="threadDlManagerObject.onReceive"></a></p>

<h3>threadDlManagerObject.onReceive</h3>

<pre><code class="aardio language-aardio">threadDlManagerObject.onReceive = function(id,sizePs,downSize){
    /*下载触发此事件*/
}
</code></pre>

<p><a id="threadDlManagerObject.onReceiveBegin"></a></p>

<h3>threadDlManagerObject.onReceiveBegin</h3>

<pre><code class="aardio language-aardio">threadDlManagerObject.onReceiveBegin = function(id,url,filename,statusText,httpStatusCode,totalSize,downSize){
    /*开始下载触发此事件*/
}
</code></pre>

<p><a id="threadDlManagerObject.push"></a></p>

<h3>threadDlManagerObject.push( 任务配置 )</h3>

<pre><code class="aardio language-aardio">threadDlManagerObject.push(   
    id = /*必须指定任务唯一标志  
参数表也是此函数的返回值*/;  
    url = &quot;下载网址,重复的下载网址将被自动忽略&quot;;/;  
    referer = &quot;引用网址&quot;;  
    savedir = &quot;/download/&quot;;  
    filename = 可选参数;    
)
</code></pre>

<p><a id="threadDlManagerObject.push"></a></p>

<h3>threadDlManagerObject.push()</h3>

<p><a href="#threadDlManagerTaskObject">返回对象:threadDlManagerTaskObject</a></p>

<p><a id="threadDlManagerObject.quit"></a></p>

<h3>threadDlManagerObject.quit()</h3>

<p>关闭全部下载线程</p>

<p><a id="threadDlManagerObject.works"></a></p>

<h3>threadDlManagerObject.works</h3>

<p><a href="#threadWorkObject">返回对象:threadWorkObject</a></p>

<p><a id="threadDlManagerTaskObject"></a></p>

<h2>threadDlManagerTaskObject 成员列表</h2>

<p><a id="threadDlManagerTaskObject.id"></a></p>

<h3>threadDlManagerTaskObject.id</h3>

<p>任务id</p>

<p><a href="dlManager.md" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/thread/dlManager.md">Markdown 格式</a></p>

</body> 
</html>